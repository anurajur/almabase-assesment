(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(2),o=a.n(r);a(12),a(13);var c=e=>{let{isOpen:t,currentElement:a,onClose:n,onSaveChanges:r,onDeleteElement:o,handleChange:c}=e;return t&&a?l.a.createElement("div",{className:"modal"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("span",{className:"close",onClick:n},"\xd7"),l.a.createElement("form",{onSubmit:r,className:"modal-form"},l.a.createElement("h2",null,"Edit Label"),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Text"),l.a.createElement("input",{type:"text",name:"label",value:a.label,onChange:c})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"X"),l.a.createElement("input",{type:"number",name:"x",value:a.x,readOnly:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Y"),l.a.createElement("input",{type:"number",name:"y",value:a.y,readOnly:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Font Size"),l.a.createElement("input",{type:"number",name:"fontSize",value:a.fontSize,onChange:c})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Font Weight"),l.a.createElement("input",{type:"number",name:"fontWeight",value:a.fontWeight,onChange:c})),l.a.createElement("div",{className:"form-actions"},l.a.createElement("button",{type:"submit"},"Save Changes"),l.a.createElement("button",{type:"button",onClick:o,className:"delete-button"},"Delete"))))):null};var i=function(e){let{label:t,onDragStart:a}=e;return l.a.createElement("div",{className:"draggable",draggable:!0,onDragStart:a},t)};var s=e=>{let{onDragStart:t,onExport:a}=e;return l.a.createElement("aside",{className:"sidebar"},l.a.createElement(i,{label:"Label",onDragStart:e=>t(e,"Label")}),l.a.createElement(i,{label:"Input",onDragStart:e=>t(e,"Input")}),l.a.createElement(i,{label:"Button",onDragStart:e=>t(e,"Button")}),l.a.createElement("button",{onClick:a},"Export Configuration"))};var m=function(e){let{onDrop:t,onDragOver:a,onClick:n,children:r}=e;return l.a.createElement("div",{className:"drop-area",onDrop:t,onDragOver:a,onClick:n},r)};var d=e=>{let{items:t,onDrop:a,onDragOver:n,onDragStart:r,onDragEnd:o,onElementClick:c,selectedItemId:i,setSelectedItemId:s}=e;return l.a.createElement(m,{onDrop:a,onDragOver:n,onClick:()=>s(null)},t.map(e=>l.a.createElement("div",{key:e.id,draggable:!0,onDragStart:t=>r(t,e),onDragEnd:o,className:"dropped-item ".concat(i===e.id?"selected":""),style:{left:"".concat(e.x,"px"),top:"".concat(e.y,"px"),fontSize:"".concat(e.fontSize,"px"),fontWeight:e.fontWeight,position:"absolute",border:i===e.id?"2px solid red":"none"},onClick:t=>c(e,t)},e.label)))};var u=function(){const[e,t]=Object(n.useState)([]),[a,r]=Object(n.useState)(!1),[o,i]=Object(n.useState)(null),[m,u]=Object(n.useState)(null),g=(t,a)=>{if(a.id){const n=e.findIndex(e=>e.id===a.id);i(e[n]),t.dataTransfer.setData("application/reactflow",a.id),t.dataTransfer.effectAllowed="move"}else{const e=t.target.getBoundingClientRect(),n=t.clientX-e.left,l=t.clientY-e.top;t.dataTransfer.setData("text/plain",a),t.dataTransfer.setData("offset",JSON.stringify({x:n,y:l}))}};return Object(n.useEffect)(()=>{const e=localStorage.getItem("items");e&&t(JSON.parse(e))},[]),Object(n.useEffect)(()=>{localStorage.setItem("items",JSON.stringify(e))},[e]),Object(n.useEffect)(()=>{o&&localStorage.setItem("currentElement",JSON.stringify(o)),m&&localStorage.setItem("selectedItemId",JSON.stringify(m))},[o,m]),l.a.createElement("div",{className:"app"},l.a.createElement(d,{items:e,onDrop:a=>{a.preventDefault();const n=a.dataTransfer.getData("application/reactflow");if(n){const t=e.find(e=>e.id.toString()===n);t&&i(t)}else{const n=a.dataTransfer.getData("text"),l=JSON.parse(a.dataTransfer.getData("offset")),r=a.currentTarget.getBoundingClientRect(),o=a.clientX-r.left-l.x,c=a.clientY-r.top-l.y,i={id:Math.random(),label:n,x:o,y:c,fontSize:"16",fontWeight:"400"};t([...e,i])}},onDragOver:e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},onDragStart:g,onDragEnd:e=>{if(!o)return;const a=document.querySelector(".drop-area").getBoundingClientRect(),n=e.clientX-a.left,l=e.clientY-a.top;t(e=>e.map(e=>e.id===o.id?{...e,x:n,y:l}:e)),i(null)},onElementClick:(e,t)=>{t.stopPropagation(),i(e),u(e.id),r(!0)},selectedItemId:m,setSelectedItemId:u}),l.a.createElement(c,{isOpen:a,currentElement:o,onClose:()=>r(!1),onSaveChanges:a=>{a.preventDefault(),o&&(t(e.map(e=>e.id===o.id?{...e,...o}:e)),r(!1))},onDeleteElement:()=>{o&&(t(e.filter(e=>e.id!==o.id)),i(null),u(null),r(!1))},handleChange:e=>{const{name:t,value:a}=e.target;o&&i(e=>({...e,[t]:a}))}}),l.a.createElement(s,{onDragStart:g,onExport:()=>{const t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e)),a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("download","page_configuration.json"),document.body.appendChild(a),a.click(),a.remove()}}))};var g=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,15)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:r,getTTFB:o}=t;a(e),n(e),l(e),r(e),o(e)})};o.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(u,null))),g()},3:function(e,t,a){e.exports=a(14)}},[[3,1,2]]]);
//# sourceMappingURL=main.b3bfec76.chunk.js.map